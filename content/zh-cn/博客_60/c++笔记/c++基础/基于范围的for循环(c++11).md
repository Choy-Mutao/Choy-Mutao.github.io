---
title: 基于范围的for循环(c++11)
type: blog
date: 2023-04-26
---

## 描述

若是在 C++98 中我们要遍历一个数组，可以按照以下方式：

```cpp
    int arr[] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };
    //将数组元素值全部乘以2
    for (int i = 0; i < sizeof(arr) / sizeof(arr[0]); i++)
    {
        arr[i] *= 2;
    }
    //打印数组中的所有元素
    for (int i = 0; i < sizeof(arr) / sizeof(arr[0]); i++)
    {
        cout << arr[i] << " ";
    }
    cout << endl;
```

以上方式也是我们 C 语言中所用的遍历数组的方式，但对于一个有范围的集合而言，循环
是多余的，有时还容易犯错。因此 C++11 中引入了基于范围的 for 循环。for 循环后的括
号由冒号分为两部分：第一部分是范围内用于迭代的变量，第二部分则表示被迭代的范围。

```cpp
    int arr[] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };
    //将数组元素值全部乘以2
    for (auto& e : arr)
    {
        e *= 2;
    }
    //打印数组中的所有元素
    for (auto e : arr)
    {
        cout << e << " ";
    }
    cout << endl;
```

> 与普通循环类似，可用 continue 来结束本次循环，也可以用 break 来跳出整个循环

## 范围 for 循环的使用条件

1. **for 循环迭代的范围必须是确定的**: 对于数组而言，就是数组中第一个元素和最后
   一个元素的范围；对于类而言，应该提供 begin 和 end 的方法，begin 和 end 就是
   for 循环迭代的范围。

2. **迭代的对象要实现++和==操作**: 