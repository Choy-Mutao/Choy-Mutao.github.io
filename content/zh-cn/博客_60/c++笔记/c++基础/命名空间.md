---
title: 命名空间
type: blog
date: 2024-11-06
---

## 描述

在 C/C++中，[变量]、[函数]和[类]都是大量存在的，这些[变量]、[函数]和[类]的名称都
将作用于[全局作用域]中，可能会导致很多[命名冲突]。使用[命名空间]的目的就是
对[标识符]和[名称]进行[本地化]，以避免[命名冲突]或[名字污染]，`namespace` 关键字
的出现就是针对这种问题的。

## 命名空间的定义

定义命名空间，需要使用到 namespace 关键字，后面跟命名空间的名字，然后接一对{}即
可，{}中即为命名空间的成员。

### 一、命名空间的普通定义

```cpp
// 命名空间的普通定义
namespace N1 // N1 为命名空间的名称
{
    // 在命名空间中, 既可以定义变量, 也可以定义函数
    int a;
    int Add(int x, int y)
    {
        return x + y;
    }
}
```

### 二、命名空间的嵌套定义

```cpp
// 命名空间的嵌套定义
namespace N1 // 定义一个名为 N1 的命名空间
{
    int a;
    int b;
    namespace N2 // 嵌套定义另一个名为 N2 的命名空间
    {
        int c;
        int d;
    }
}
```

### 三、同一个工程中允许存在多个相同名称的命名空间，编译器最后会将其成员合成在同一个命名空间中

> 所以我们不能在相同名称的命名空间中定义两个相同名称的成员。注意：一个命名空间就
> 定义了一个新的作用域，命名空间中所有内容都局限于该命名空间中

## 命名空间的使用

命名空间的使用有以下三种方式：

### 一、加命名空间名称及作用域限定符

符号“::”在 C++中叫做作用域限定符，我们通过“命名空间名称::命名空间成员”便可以访问
到命名空间中相应的成员

```cpp
// 加命名空间名称及作用域限定符
#include <stdio.h>
namespace N
{
    int a;
    double b;
}
int main()
{
    N::a = 10;//将命名空间中的成员a赋值为10
    printf("%d\n", N::a);//打印命名空间中的成员a
    return 0;
}
```

### 二、使用 using 将命名空间中的成员引入

我们还可以通过“using 命名空间名称::命名空间成员”的方式将命名空间中指定的成员引入
。这样一来，在该语句之后的代码中就可以直接使用引入的成员变量了。

```cpp
// 使用 using 将命名空间中的成员引入
#include <stdio.h>
namespace N
{
    int a;
    double b;
}

using N::a; // 将命名空间中的成员 a 引入
int main()
{
    a = 10;
    printf("%d\n", a);
    return 0;
}
```

### 三、使用 using namespace 命名空间名称引入

最后一种方式就是通过”using namespace 命名空间名称“将命名空间中的全部成员引入。这
样一来，在该语句之后的代码中就可以直接使用该命名空间内的全部成员了。

```cpp
#include <stdio.h>
namespace N
{
    int a;
    double b;
}

using namespace N; // 将命名空间 N 的所有成员引入
int main()
{
    a = 10;
    printf("%d\n", a);
    return 0;
}
```