---
title: 类对象模型
type: blog
date: 2020-08-04
---

## 描述

## 如何计算类对象的大小

一个类当中既可以有成员变量，又可以有成员函数，那么一个类的对象中包含了什么？类的
大小又是如何计算的呢？

```cpp
class Person
{
public:
	//显示基本信息
	void ShowInfo()
	{
		cout << _name << "-" << _sex << "-" << _age << endl;
	}
public:
	char* _name;  //姓名
	char* _sex;   //性别
	int _age;     //年龄
};
```

## 类的对象的存储方式

## 结构体内存对齐规则

1. 第一个成员在与结构体变量偏移量为 0 的地址出, 即结构体的首地址处, 即对齐到 0
   处
2. 其他成员变量要对齐到某个数字(对齐数)的整数倍的地址处
3. 结构体的总大小为最大对齐数(每个成员变量都有一个对齐数)的整数倍
4. 如果嵌套了结构体, 嵌套的结构体对齐到自己的最大对齐数的整数倍处, 结构体的整体
   大小就是所有最大对齐数(含嵌套结构体的对齐数)的整数倍

对齐数 = 该结构体成员变量自身的大小与编译器默认的一个对齐数的较小值